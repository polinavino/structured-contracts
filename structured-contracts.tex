% This is samplepaper.tex, a sample chapter demonstrating the
% LLNCS macro package for Springer Computer Science proceedings;
% Version 2.21 of 2022/01/12
%
\documentclass[runningheads]{llncs}
%
\usepackage[T1]{fontenc}
% T1 fonts will be used to generate the final print and online PDFs,
% so please use T1 fonts in your manuscript whenever possible.
% Other font encondings may result in incorrect characters.
%
\usepackage{graphicx}
% Used for displaying a sample figure. If possible, figure files should
% be included in EPS format.
%
% If you use the hyperref package, please uncomment the following two lines
% to display URLs in blue roman font according to Springer's eBook style:
%\usepackage{color}
%\renewcommand\UrlFont{\color{blue}\rmfamily}
% correct bad hyphenation here
\hyphenation{}

%\usepackage{natbib}
\usepackage{url}


% *** MATHS PACKAGES ***
%
\usepackage{iohk}
%\usepackage[cmex10]{amsmath}
\usepackage{amssymb}
\usepackage{stmaryrd}
%\usepackage{amsthm}

\usepackage[margin=2.5cm]{geometry}
\usepackage{iohk}
\usepackage{microtype}
\usepackage{mathpazo} % nice fonts
\usepackage{amsmath}
\usepackage{amssymb}
%\usepackage{amsthm}
\usepackage{latexsym}
\usepackage{mathtools}
\usepackage{stmaryrd}
\usepackage{extarrows}
\usepackage{slashed}
\usepackage[unicode=true,pdftex,pdfa,colorlinks=true]{hyperref}
\usepackage{xcolor}
\usepackage[capitalise,noabbrev,nameinlink]{cleveref}
\usepackage{float}

% *** ALIGNMENT PACKAGES ***
%
\usepackage{array}
\usepackage{float}  %% Try to improve placement of figures.  Doesn't work well with subcaption package.
\usepackage{subcaption}
\usepackage{caption}

\usepackage{subfiles}
\usepackage{geometry}
\usepackage{listings}
 \usepackage{xcolor}
\usepackage{verbatim}
\usepackage{listings}% http://ctan.org/pkg/listings
\lstset{
  basicstyle=\ttfamily,
  mathescape
}
\usepackage{alltt}
\usepackage{paralist}

% inference rules
\usepackage{semantic}

\usepackage{todonotes}

%
\newcommand{\todochak}[1]{\todo[inline,color=purple!40,author=chak]{#1}}
\newcommand{\todompj}[1]{\todo[inline,color=yellow!40,author=Michael]{#1}}
\newcommand{\todokwxm}[1]{\todo[inline,color=blue!20,author=kwxm]{#1}}
\newcommand{\todopv}[1]{\todo[inline,color=purple!40,author=polina]{#1}}

\newcommand{\red}[1]{\textcolor{red}{#1}}
\newcommand{\redfootnote}[1]{\red{\footnote{\red{#1}}}}
\newcommand{\blue}[1]{\textcolor{blue}{#1}}
\newcommand{\bluefootnote}[1]{\blue{\footnote{\blue{#1}}}}

%% A version of ^{\prime} for use in text mode
\makeatletter
\DeclareTextCommand{\textprime}{\encodingdefault}{%
  \mbox{$\m@th'\kern-\scriptspace$}%
}
\makeatother

\newcommand{\code}{\texttt}
\renewcommand{\i}{\textit}  % Just to speed up typing: replace these in the final version
\renewcommand{\t}{\texttt}  % Just to speed up typing: replace these in the final version
\newcommand{\s}{\textsf}  % Just to speed up typing: replace these in the final version
\newcommand{\msf}[1]{\ensuremath{\mathsf{#1}}}
\newcommand{\mi}[1]{\ensuremath{\mathit{#1}}}

%% A figure with rules above and below.
\newcommand\rfskip{3pt}
%\newenvironment{ruledfigure}[1]{\begin{figure}[#1]\hrule\vspace{\rfskip}}{\vspace{\rfskip}\hrule\end{figure}}
\newenvironment{ruledfigure}[1]{\begin{figure}[#1]}{\end{figure}}

%% Various text macros
\newcommand{\true}{\type{True}}
\newcommand{\false}{\type{False}}

\newcommand{\hash}[1]{\ensuremath{#1^{\#}}}

\newcommand\mapsTo{\ensuremath{\mapsto}}
\newcommand\cL{\ensuremath{\{}}
\newcommand\cR{\ensuremath{\}}}

\newcommand{\List}[1]{\ensuremath{\s{List}[#1]}}
\newcommand{\Set}[1]{\ensuremath{\mathbb{P}~#1}}  %{\ensuremath{\s{Set}[#1]}}
\newcommand{\FinSet}[1]{\ensuremath{\s{FinSet}[#1]}}
\newcommand{\Interval}[1]{\ensuremath{\s{Interval}[#1]}}
\newcommand{\FinSup}[2]{\ensuremath{\s{FinSup}[#1,\linebreak[0]#2]}}
% ^ \linebeak is to avoid a bad line break when we talk about finite
% maps.  We may be able to remove it in the final version.
\newcommand{\supp}{\msf{supp}}

\newcommand{\Script}{\ensuremath{\s{Script}}}
\newcommand{\scriptAddr}{\fun{scriptAddr}}
\newcommand{\ctx}{\ensuremath{\s{Context}}}
\newcommand{\vlctx}{\ensuremath{\s{ValidatorContext}}}
\newcommand{\mpsctx}{\ensuremath{\s{PolicyContext}}}
\newcommand{\toData}{\ensuremath{\s{toData}}}
\newcommand{\toTxData}{\ensuremath{\s{toTxData}}}
\newcommand{\fromData}{\msf{fromData}}

\newcommand{\emptymap}{\ensuremath{\{\}}}
\newcommand{\emptytype}{\star}
\newcommand{\emptytypeT}{\{\star\}}
\newcommand{\verify}{\msf{verify}}

\newcommand{\mkContext}{\ensuremath{\s{mkContext}}}
\newcommand{\mkTxInfo}{\ensuremath{\s{mkTxInfo}}}
\newcommand{\mkVlContext}{\ensuremath{\s{mkValidatorContext}}}
\newcommand{\mkMpsContext}{\ensuremath{\s{mkPolicyContext}}}
\newcommand{\checkSig}{\ensuremath{\s{checkSig}}}

\newcommand{\applyScript}[1]{\ensuremath{\llbracket#1\rrbracket}}
\newcommand{\applyMPScript}[1]{\ensuremath{\llbracket#1\rrbracket}}

\newcommand{\unionoverrideMinus}{\ensuremath{\mathbin{\cup_{-}}}}
% wildcard parameter
\newcommand{\wcard}[0]{\underline{\phantom{a}}}

% Macros for eutxo things.
\newcommand{\tx}{\fun{tx}}
\newcommand{\TxId}{\ensuremath{\s{TxId}}}
\newcommand{\TxInfo}{\ensuremath{\s{TxInfo}}}
\newcommand{\txId}{\msf{txId}}
\newcommand{\txrefid}{\fun{id}}
\newcommand{\Address}{\ensuremath{\s{Address}}}
\newcommand{\DataHash}{\ensuremath{\s{DataHash}}}
\newcommand{\hashData}{\fun{dataHash}}
\newcommand{\idx}{\fun{index}}
\newcommand{\inputs}{\fun{txins}}
\newcommand{\outputs}{\fun{outs}}
\newcommand{\Out}{\type{Output}}
\newcommand{\validityInterval}{\fun{validityInterval}}
\newcommand{\scripts}{\fun{scripts}}
\newcommand{\mint}{\fun{mint}}
\newcommand{\mintScripts}{\fun{mintScripts}}
\newcommand{\mintScsRdmrs}{\fun{mintScsRdmrs}}
\newcommand{\mintRdmrs}{\fun{mintRdmrs}}
\newcommand{\sigs}{\fun{sigs}}
\newcommand{\fee}{\fun{fee}}
\newcommand{\addr}{\fun{addr}}
\newcommand{\pubkey}{\fun{pubkey}}
\newcommand{\val}{\fun{value}}  %% \value is already defined
\newcommand{\Value}{\type{Value}}
\newcommand{\Redeemer}{\type{Redeemer}}
\newcommand{\TxOutRef}{\type{TxIn}}
\newcommand{\TxOut}{\type{TxOut}}
\newcommand{\ScriptContext}{\type{ScriptContext}}
\newcommand{\ScriptPurpose}{\type{ScriptPurpose}}
\newcommand{\Datum}{\type{Datum}}
\newcommand{\DCert}{\type{DCert}}
\newcommand{\LCTx}{\type{LCTx}}
\newcommand{\TxInInfo}{\type{TxInInfo}}

\newcommand{\FState}{\type{FState}}
\newcommand{\FInput}{\type{FInput}}
\newcommand{\Send}{\type{Send}}
\newcommand{\Receive}{\type{Receive}}
\newcommand{\SimplInput}{\type{SimplInput}}
\newcommand{\AccMsgs}{\type{AccMsgs}}
\newcommand{\Context}{\type{Context}}

\newcommand{\validator}{\fun{validator}}
\newcommand{\redeemer}{\fun{redeemer}}
\newcommand{\datum}{\fun{datum}}
\newcommand{\datumHash}{\fun{datumHash}}
\newcommand{\datumWits}{\fun{datumWitnesses}}
\newcommand{\Data}{\ensuremath{\s{Data}}}
\newcommand{\Input}{\ensuremath{\s{Input}}}
\newcommand{\Output}{\type{Output}}
\newcommand{\OutputRef}{\fun{OutputRef}}
\newcommand{\Signature}{\ensuremath{\s{Signature}}}
\newcommand{\Ledger}{\ensuremath{\s{Ledger}}}

\newcommand{\outputref}{\fun{outputRef}}
\newcommand{\outputrefs}{\fun{outputRefs}}
\newcommand{\txin}{\fun{in}}
\newcommand{\id}{\fun{id}}
\newcommand{\lookupTx}{\msf{lookupTx}}
\newcommand{\getSpent}{\msf{getSpentOutput}}

% \newcommand{\Tick}{\ensuremath{\s{Tick}}}
\newcommand{\Tick}{\type{Slot}}
\newcommand{\currentTick}{\msf{currentTick}}
\newcommand{\spent}{\msf{spentOutputs}}
\newcommand{\unspent}{\msf{unspentOutputs}}
\newcommand{\txunspent}{\msf{unspentTxOutputs}}
\newcommand{\eutxotx}{\msf{Tx}}


\newcommand{\consumes}[1]{\msf{consumes(#1)}}
\newcommand{\consumesOne}[1]{\msf{consumesOne(#1)}}
\newcommand{\cid}{\fun{cid}}
\newcommand{\inputValue}{\fun{inputValue}}
\newcommand{\rMin}{r_{\fun{min}}}
\newcommand{\rMax}{r_{\fun{max}}}

\newcommand{\utxotx}{\msf{Tx}}

\newcommand{\Quantity}{\ensuremath{\s{Quantity}}}
\newcommand{\Asset}{\ensuremath{\s{Asset}}}
\newcommand{\Policy}{\ensuremath{\s{PolicyID}}}
\newcommand{\Quantities}{\ensuremath{\s{Quantities}}}
\newcommand{\nativeCur}{\ensuremath{\mathrm{nativeC}}}
\newcommand{\nativeTok}{\ensuremath{\mathrm{nativeT}}}
\newcommand{\valC}{\mkValidator{\mathcal{C}}}
\newcommand{\polC}{\mkPolicy{\mathcal{C}}}
\newcommand\mkValidator[1]{\msf{validator}_#1}
\newcommand\mkPolicy[1]{\msf{policy}_#1}

\newcommand{\PublicKey}{\ensuremath{\s{PubKey}}}
\newcommand{\PubKey}{\ensuremath{\s{PubKey}}}
\newcommand{\PrivateKey}{\ensuremath{\s{PrivateKey}}}

\newcommand{\pkey}{\ensuremath{\pi_{\mathsf{p}}}}
\newcommand{\skey}{\ensuremath{\pi_{\mathsf{s}}}}

\newcommand\B{\ensuremath{\mathbb{B}}}
\newcommand\N{\ensuremath{\mathbb{N}}}
\newcommand\Z{\ensuremath{\mathbb{Z}}}
\renewcommand\H{\ensuremath{\mathbb{H}}}
%% \H is usually the Hungarian double acute accent
\newcommand{\emptyBs}{\ensuremath{\emptyset}}
\newcommand{\leteq}{\ensuremath{\mathrel{\mathop:}=}}
\newcommand{\Nt}{\ensuremath{\Diamond}}
\newcommand{\Bool}{\type{Bool}}
\newcommand{\Type}{\type{Type}}
\newcommand{\STRUC}{\type{STRUC}}
\newcommand{\BASIC}{\type{BASIC}}
\newcommand{\LEDGER}{\type{LEDGER}}
\newcommand{\LChanges}{\type{LChanges}}
\newcommand{\LVal}{\type{LVal}}
\newcommand{\Sb}{\mathbb{S}}

%ledger spec commands
\newcommand{\Request}{\type{Request}}
\newcommand{\LS}{\mathcal{L}\mathcal{S}}
\newcommand{\State}{\type{State}}
\newcommand{\CEMState}{\type{CEMState}}
% \newcommand{\AccID}{\type{AccID}}
\newcommand{\PCMT}{\type{PCMT}}
\newcommand{\Accts}{\type{Accts}}
% \newcommand{\Open}{\type{Open}}
% \newcommand{\OArgs}{\type{OArgs}}
% \newcommand{\Close}{\type{Close}}
% \newcommand{\CArgs}{\type{CArgs}}
% \newcommand{\Deposit}{\type{Deposit}}
% \newcommand{\DArgs}{\type{DArgs}}
\newcommand{\AMState}{\type{AMState}}
% \newcommand{\Withdraw}{\type{Withdraw}}
% \newcommand{\WArgs}{\type{WArgs}}
% \newcommand{\Transfer}{\type{Transfer}}
\newcommand{\TransferFrom}{\type{TransferFrom}}
\newcommand{\TransferTo}{\type{TransferTo}}
% \newcommand{\TArgs}{\type{TArgs}}
\newcommand{\TTArgs}{\type{TTArgs}}
\newcommand{\TFArgs}{\type{TFArgs}}
\newcommand{\CEMInput}{\type{CEMInput}}
\newcommand{\Tx}{\type{Tx}}
\newcommand{\ID}{\type{ID}}
\newcommand{\Th}{\mathcal{T}}
\newcommand{\Tu}{\mathcal{U}}
\newcommand{\T}{\type{T}}
\newcommand{\Err}{\type{Err}}
\newcommand{\ups}{\fun{update}}
\newcommand{\FHBMT}{\type{FHBMT}}
\newcommand{\UTxO}{\type{UTxO}}
\newcommand{\UTxOState}{\type{UTxOState}}
\newcommand{\TxIn}{\type{TxIn}}
\newcommand{\MsgIn}{\type{MsgIn}}

\newcommand{\CEMInit}{\type{CEMInit}}
\newcommand{\CEMStep}{\type{CEMStep}}

\newcommand{\CEMInputs}{\type{CEMInputs}}
\newcommand{\CEMStates}{\type{CEMStates}}

\newcommand{\PlutusVII}{\type{PlutusV2}}
\newcommand{\Credential}{\type{Credential}}
\newcommand{\Block}{\type{Block}}

\newcommand{\StateMachineState}{\type{StateMachineState}}
\newcommand{\StateMachineInput}{\type{StateMachineInput}}
\newcommand{\NFTSMState}{\type{NFTSMState}}
\newcommand{\NFTSMInput}{\type{NFTSMInput}}

\newcommand{\True}{\type{True}}
\newcommand{\False}{\type{False}}

\newcommand{\Ix}{\type{Ix}}
\newcommand{\Slot}{\type{Slot}}
\newcommand{\PParams}{\type{PParams}}
\newcommand{\Coin}{\type{Coin}}
\newcommand{\LState}{\type{LState}}
\newcommand{\Initialize}{\type{Initialize}}
\newcommand{\Progress}{\type{Progress}}

\newcommand{\OutputVal}{\type{OutputVal}}

\newcommand{\AssetID}{\type{AssetID}}
\newcommand{\TokenName}{\type{TokenName}}
\newcommand{\myThread}{\type{myThread}}
\newcommand{\pkSigns}{\type{pkSigns}}

\newcommand{\Counters}{\type{Counters}}
\newcommand{\CounterID}{\type{CounterID}}
\newcommand{\CS}{\type{CS}}
\newcommand{\CI}{\type{CI}}

\newcommand{\Env}{\type{Env}}
\newcommand{\FEnv}{\type{FEnv}}
\newcommand{\Id}{\type{Id}}

\usepackage{etoolbox}
\usepackage{tikz-qtree}
\usepackage{tikz}
\usetikzlibrary{matrix}

% For anonymisation
\newtoggle{anonymous}
\toggletrue{anonymous}
\iftoggle{anonymous}{
  \newcommand{\Cardano}{CHAIN}
  \newcommand{\Plutus}{LANG}
}{
  \newcommand{\Cardano}{Cardano}
  \newcommand{\Plutus}{Plutus Core}
}

% Names, for consistency
\newcommand{\UTXO}{UTxO}
\newcommand{\EUTXO}{E\UTXO{}}
\newcommand{\ExUTXO}{Extended \UTXO{}}

\newcommand{\SELF}{\type{SELF}}
\newcommand{\TRANS}{\type{TRANS}}
\newcommand{\POV}{\type{POV}}
\newcommand{\CEM}{\type{CEM}}
\newcommand{\Trc}{\type{Trc}}
\newcommand{\CEMS}{\type{CEMS}}
\newcommand{\SMUP}{\type{SMUP}}
\newcommand{\CEMsm}{CEM_{sm}}

\newcommand{\SR}{\type{SR}}
\newcommand{\MsgRdmr}{\type{MsgRdmr}}
\newcommand{\send}{\type{send}}
\newcommand{\receive}{\type{receive}}
\newcommand{\MSGS}{\type{MSGS}}
\newcommand{\Msg}{\type{Msg}}
\newcommand{\msgsTT}{\type{msgsTT}}
\newcommand{\msgsVal}{\type{msgsVal}}
\newcommand{\msgTkn}{\type{msgTkn}}

\newcommand{\Memory}{\type{Memory}}
\newcommand{\Params}{\type{Params}}
\newcommand{\HState}{\type{HState}}
\newcommand{\SType}{\type{SType}}
\newcommand{\HYDRA}{\type{HYDRA}}

\newcommand{\TOGGLE}{\type{TOGGLE}}
\newcommand{\Toggle}{\type{Toggle}}
\newcommand{\toggle}{\type{toggle}}
\newcommand{\Payout}{\type{Payout}}
\newcommand{\payout}{\type{payout}}
\newcommand{\myPKs}{\type{myPKs}}
\newcommand{\toggleTT}{\type{toggleTT}}
\newcommand{\toggleVal}{\type{toggleVal}}
\newcommand{\PartialOutput}{\type{PartialOutput}}

\newcommand{\UTXOma}{\UTXO$_{\textrm{ma}}$}
\newcommand{\EUTXOma}{\EUTXO$_{\textrm{ma}}$}

\newcommand\initial{\msf{initial}}
\newcommand\nft{\blacklozenge}
\newcommand\step{\msf{step}}
\newcommand\satisfies{\msf{satisfies}}
\newcommand\checkOutputs{\msf{checkOutputs}}
\newcommand\txeq{tx^\equiv}

% Account simulations
\newcommand{\threadTT}{\type{threadTT}}
\newcommand{\AccID}{\type{AccID}}
\newcommand{\AccData}{\type{AccData}}
\newcommand{\Accnts}{\type{Accnts}}
\newcommand{\OneUpd}{\type{OneUpd}}
\newcommand{\AccUpd}{\type{AccUpd}}
\newcommand{\Open}{\type{Open}}
\newcommand{\Oargs}{\type{Oargs}}
\newcommand{\Close}{\type{Close}}
\newcommand{\CArgs}{\type{CArgs}}
\newcommand{\Deposit}{\type{Deposit}}
\newcommand{\DArgs}{\type{DArgs}}
\newcommand{\Withdraw}{\type{Withdraw}}
\newcommand{\WArgs}{\type{WArgs}}
\newcommand{\Transfer}{\type{Transfer}}
\newcommand{\TArgs}{\type{TArgs}}
\newcommand{\ACCNTS}{\type{ACCNTS}}
\newcommand{\ACCOP}{\type{ACCOP}}

\newcommand{\PayIns}{\type{PayIns}}
\newcommand{\PayOuts}{\type{PayOuts}}
\newcommand{\Bag}{\type{Bag}}
\newcommand{\Rate}{\type{Rate}}
\newcommand{\OMap}{\type{OMap}}
\newcommand{\XOR}{\type{XOR}}

% relaxed float placement
\renewcommand{\topfraction}{.95}
\renewcommand{\bottomfraction}{.7}
\renewcommand{\textfraction}{.15}
\renewcommand{\floatpagefraction}{.66}
\renewcommand{\dbltopfraction}{.66}
\renewcommand{\dblfloatpagefraction}{.66}
\setcounter{topnumber}{9}
\setcounter{bottomnumber}{9}
\setcounter{totalnumber}{20}
\setcounter{dbltopnumber}{9}

\newcommand\CStep[1]{\ensuremath{
 #1 \xrightarrow{\hspace{5pt} i \hspace{5pt}} (#1' , \txeq)
%%\textsf{step}\, #1\, i \equiv \textsf{just}\, #1'
}}

\newcommand{\pp}{\nolinebreak\hspace{+0.3em}{\tiny\bf +}\nolinebreak\hspace{-.10em}{\tiny\bf +}\nolinebreak\hspace{+0.3em}\nolinebreak}


\begin{document}
%
\title{Structured Contracts in the EUTxO Ledger Model \thanks{This work was supported
by Input Output (iohk.io) through their funding of the Edinburgh Blockchain Technology Lab.}}
%
%\titlerunning{Abbreviated paper title}
% If the paper title is too long for the running head, you can set
% an abbreviated paper title here
%

\author{Polina  Vinogradova\inst{1}\orcidID{} \and
Manuel Chakravarty\inst{1}\orcidID{} \and %}{IOG} {manuel.chakravarty@iohk.io}{}{}
Philip Wadler\inst{1,2}\orcidID{} \and
James	Chapman\inst{1}\orcidID{} \and %}{IOG} {james.chapman@iohk.io}{}{}
Tudor	Ferariu\inst{1,2}\orcidID{} \and %}{University of Edinburgh, UK} {s1408714@sms.ed.ac.uk}{}{}
Michael Peyton Jones\inst{1}\orcidID{} \and %}{IOG} {michael.peyton-jones@iohk.io}{}{}
Jacco	Krijnen\inst{1,3}\orcidID{} \and %}{Utrecht University, Netherlands} {j.o.g.krijnen@uu.nl}{}{}
Orestis	Melkonian\inst{1,2}\orcidID{} } %}{IOG \& University of Edinburgh, UK} {orestis.melkonian@ed.ac.uk}{}{}
%
\authorrunning{ P. Vinogradova et al.}
% \title{Designing EUTxO smart contracts as communicating state machines: the case of simulating accounts}
%
% \titlerunning{Designing EUTxO smart contracts as communicating state machines} %TODO optional, please use if title is longer than one line
%

% First names are abbreviated in the running head.
% If there are more than two authors, 'et al.' is used.
%
\institute{
  IOG,
  \email{firstname.lastname@iohk.io}
  \and
  University of Edinburgh, UK
  \email{orestis.melkonian@ed.ac.uk, s1408714@sms.ed.ac.uk, wadler@inf.ed.ac.uk}
  \and
  Utrecht University, Netherlands,
  \email{j.o.g.krijnen@uu.nl}
}
% \email{lncs@springer.com}\\
% \url{http://www.springer.com/gp/computer-science/lncs} \and
% ABC Institute, Rupert-Karls-University Heidelberg, Heidelberg, Germany\\
% \email{\{abc,lncs\}@uni-heidelberg.de}}
%
\maketitle              % typeset the header of the contribution
%
\begin{abstract}
The extended UTxO ledger is a kind of a UTxO-based cryptocurrency ledger that
supports the use of smart contract scripts to specify permissions for performing
certain actions, such as spending a UTxO or minting assets. There have been
some attempts to standardize the implementation of stateful programs using this
infrastructure, with varying degrees of success. In this work, we present a formalization of
the very notion of correctly
implementing stateful programs on the ledger, which we call the structured
contract framework.

Using a small-step semantics approach to program specification, the structured
contracts framework establishes a subsystem relation between the ledger
state transition system and the transition system of the program being specified.
This gives users the tools for demonstrating the correctness of a transition
system's ledger implementation.
We argue that the framework is extremely versatile by presenting several
highly distinct examples. In particular, we demonstrate how the framework allows
for building distinct implementations of the same specification.
We discuss useful potential applications of this framework to
existing problems in smart contract verification.

\keywords{blockchain  \and ledger \and smart contract \and formal verification \and
specification \and transition system \and UTxO \and semantics}
\end{abstract}

\input{intro.tex}
\input{model.tex}
\input{structured.tex}
\input{toggle.tex}
% \input{properties.tex}
% \clearpage
\input{discussion.tex}
\appendix
\input{appendix.tex}
%
%
%
% \section{First Section}
% \subsection{A Subsection Sample}
% Please note that the first paragraph of a section or subsection is
% not indented. The first paragraph that follows a table, figure,
% equation etc. does not need an indent, either.
%
% Subsequent paragraphs, however, are indented.
%
% \subsubsection{Sample Heading (Third Level)} Only two levels of
% headings should be numbered. Lower level headings remain unnumbered;
% they are formatted as run-in headings.
%
% \paragraph{Sample Heading (Fourth Level)}
% The contribution should contain no more than four levels of
% headings. Table~\ref{tab1} gives a summary of all heading levels.
%
% \begin{table}
% \caption{Table captions should be placed above the
% tables.}\label{tab1}
% \begin{tabular}{|l|l|l|}
% \hline
% Heading level &  Example & Font size and style\\
% \hline
% Title (centered) &  {\Large\bfseries Lecture Notes} & 14 point, bold\\
% 1st-level heading &  {\large\bfseries 1 Introduction} & 12 point, bold\\
% 2nd-level heading & {\bfseries 2.1 Printing Area} & 10 point, bold\\
% 3rd-level heading & {\bfseries Run-in Heading in Bold.} Text follows & 10 point, bold\\
% 4th-level heading & {\itshape Lowest Level Heading.} Text follows & 10 point, italic\\
% \hline
% \end{tabular}
% \end{table}
%
%
% \noindent Displayed equations are centered and set on a separate
% line.
% \begin{equation}
% x + y = z
% \end{equation}
% Please try to avoid rasterized images for line-art diagrams and
% schemas. Whenever possible, use vector graphics instead (see
% Fig.~\ref{fig1}).
%
% \begin{figure}
% \includegraphics[width=\textwidth]{fig1.eps}
% \caption{A figure caption is always placed below the illustration.
% Please note that short captions are centered, while long ones are
% justified by the macro package automatically.} \label{fig1}
% \end{figure}
%
% \begin{theorem}
% This is a sample theorem. The run-in heading is set in bold, while
% the following text appears in italics. Definitions, lemmas,
% propositions, and corollaries are styled the same way.
% \end{theorem}
%
% the environments 'definition', 'lemma', 'proposition', 'corollary',
% 'remark', and 'example' are defined in the LLNCS documentclass as well.
%
% \begin{proof}
% Proofs, examples, and remarks have the initial word in italics,
% while the following text appears in normal font.
% \end{proof}
% For citations of references, we prefer the use of square brackets
% and consecutive numbers. Citations using labels or the author/year
% convention are also acceptable. The following bibliography provides
% a sample reference list with entries for journal
% articles~\cite{ref_article1}, an LNCS chapter~\cite{ref_lncs1}, a
% book~\cite{ref_book1}, proceedings without editors~\cite{ref_proc1},
% and a homepage~\cite{ref_url1}. Multiple citations are grouped
% \cite{ref_article1,ref_lncs1,ref_book1},
% \cite{ref_article1,ref_book1,ref_proc1,ref_url1}.

% \subsubsection{Acknowledgements} Please place your acknowledgments at
% the end of the paper, preceded by an unnumbered run-in heading (i.e.
% 3rd-level heading).

%
% ---- Bibliography ----
%
% BibTeX users should specify bibliography style 'splncs04'.
% References will then be sorted and formatted in the correct style.
%
\bibliographystyle{splncs04}
\bibliography{structured-contracts-bib}

\end{document}
